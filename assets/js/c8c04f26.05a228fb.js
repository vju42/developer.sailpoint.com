"use strict";(self.webpackChunksailpoint_developer_portal=self.webpackChunksailpoint_developer_portal||[]).push([[12314],{94075:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var a=n(87462),i=(n(67294),n(3905));const s={id:"go-sdk-search",title:"Search with the Go SDK",pagination_label:"Go SDK",sidebar_label:"Search",sidebar_position:5,sidebar_class_name:"gosdk",keywords:["go","golang","sdk","search"],description:"Learn how to search with the Golang SDK in this guide.",slug:"/tools/sdk/go/search",tags:["SDK","Software Development Kit"]},r=void 0,o={unversionedId:"tools/sdk/go/go-sdk-search",id:"tools/sdk/go/go-sdk-search",title:"Search with the Go SDK",description:"Learn how to search with the Golang SDK in this guide.",source:"@site/products/idn/tools/sdk/go/search.md",sourceDirName:"tools/sdk/go",slug:"/tools/sdk/go/search",permalink:"/idn/tools/sdk/go/search",draft:!1,editUrl:"https://github.com/sailpoint-oss/developer-community-site/edit/main/products/idn/tools/sdk/go/search.md",tags:[{label:"SDK",permalink:"/idn/tags/sdk"},{label:"Software Development Kit",permalink:"/idn/tags/software-development-kit"}],version:"current",lastUpdatedBy:"GitHub Action Bot",lastUpdatedAt:1704835998,formattedLastUpdatedAt:"Jan 9, 2024",sidebarPosition:5,frontMatter:{id:"go-sdk-search",title:"Search with the Go SDK",pagination_label:"Go SDK",sidebar_label:"Search",sidebar_position:5,sidebar_class_name:"gosdk",keywords:["go","golang","sdk","search"],description:"Learn how to search with the Golang SDK in this guide.",slug:"/tools/sdk/go/search",tags:["SDK","Software Development Kit"]},sidebar:"sdkSidebar",previous:{title:"Go SDK",permalink:"/idn/tools/sdk/go/paginate"},next:{title:"Go SDK",permalink:"/idn/tools/sdk/go/retries"}},l={},d=[{value:"Paginate search results",id:"paginate-search-results",level:3}],p={toc:d},h="wrapper";function c(e){let{components:t,...n}=e;return(0,i.kt)(h,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"To try using the IDN ",(0,i.kt)("a",{parentName:"p",href:"/idn/api/v3/search-post"},"search functionality"),' along with pagination, copy this code into your "sdk.go" file, following the main code:'),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'func getSearchResults(ctx context.Context, apiClient *sailpoint.APIClient) {\n search := v3.NewSearchWithDefaults()\n search.Indices = append(search.Indices, "identities")\n searchString := []byte(`\n {\n "indices": [\n  "identities"\n ],\n "query": {\n  "query": "*"\n },\n    "sort": [\n        "-name"\n    ]\n }\n   `)\n search.UnmarshalJSON(searchString)\n resp, r, err := sailpoint.PaginateSearchApi(ctx, apiClient, *search, 0, 10, 10000)\n if err != nil {\n  fmt.Fprintf(os.Stderr, "Error when calling `PaginateSearchApi``: %v\\n", err)\n  fmt.Fprintf(os.Stderr, "Full HTTP response: %v\\n", r)\n }\n // response from `search`\n for i := 0; i < len(resp); i++ {\n  fmt.Println(resp[i]["name"])\n }\n}\n')),(0,i.kt)("p",null,"To run the search, run this command: ",(0,i.kt)("inlineCode",{parentName:"p"},"go run sdk.go")," This example lists all the identities it finds in your tenant."),(0,i.kt)("p",null,"There are two ways to configure the search:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"You can edit the ",(0,i.kt)("inlineCode",{parentName:"li"},"searchString")," JSON:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go",metastring:"showLineNumbers",showLineNumbers:!0},' searchString := []byte(`\n {\n "indices": [\n  "identities"\n ],\n "query": {\n  "query": "*"\n },\n    "sort": [\n        "-name"\n    ]\n }\n   `)\n')),(0,i.kt)("p",null,"In this example, changing the ",(0,i.kt)("inlineCode",{parentName:"p"},'"indices"')," on line 3 from ",(0,i.kt)("inlineCode",{parentName:"p"},'"identities"')," to ",(0,i.kt)("inlineCode",{parentName:"p"},'"access profiles"')," makes the search return access profiles instead of identities."),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"You can edit the string at the end of this ",(0,i.kt)("inlineCode",{parentName:"li"},"search.Indices")," line to do the same thing as a shortcut:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},'search.Indices = append(search.Indices, "identities")\n')),(0,i.kt)("p",null,"In this example, the ",(0,i.kt)("inlineCode",{parentName:"p"},'"identities"')," string represents an unmarshalled JSON. Changing ",(0,i.kt)("inlineCode",{parentName:"p"},'append(search.Indices, "identities")')," to ",(0,i.kt)("inlineCode",{parentName:"p"},'append(search.Indices, "access profiles")')," does the same thing that editing the ",(0,i.kt)("inlineCode",{parentName:"p"},"searchString")," JSON does."),(0,i.kt)("h3",{id:"paginate-search-results"},"Paginate search results"),(0,i.kt)("p",null,"The search example includes the syntax you can use to paginate search results. Edit this line to configure the search result pagination:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-go"},"resp, r, err := sailpoint.PaginateSearchApi(ctx, apiClient, *search, 0, 10, 10000)\n")),(0,i.kt)("p",null,"The first value refers to the ",(0,i.kt)("inlineCode",{parentName:"p"},"initialOffset"),", the starting number for the results, the second refers to the ",(0,i.kt)("inlineCode",{parentName:"p"},"increment"),", the number of records per page, and the third refers to the ",(0,i.kt)("inlineCode",{parentName:"p"},"limit"),", the last record that can be returned."),(0,i.kt)("p",null,"For example, changing the first number to ",(0,i.kt)("inlineCode",{parentName:"p"},"21"),", the second to ",(0,i.kt)("inlineCode",{parentName:"p"},"20"),", and the third to ",(0,i.kt)("inlineCode",{parentName:"p"},"40")," would configure the search to return records 21 to 40 and then stop."))}c.isMDXComponent=!0}}]);